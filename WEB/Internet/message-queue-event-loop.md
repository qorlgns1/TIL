이벤트루프에 대해 설명하자면 이벤트루프가 스크립트를 위에서 한줄한줄 읽으면서 콜스택에 넣어준다.  
콜스택으로 들어와서 실행할수 있는건 실행하고, 비동기처리가 되는건 백그라운드를 거쳐 메시지큐에 저장된다.  
이벤트 루프는 콜스택에 더이상 들어올게 없으면 메시지큐에서 꺼내서 콜스택에 넣어준다. 그리고 실행하는것을 반복한다.  
브라우저 콜백큐에는 대표적으로 두가지가 있다.  
매크로 테스크 큐와 마이크로 테스크 큐 두가지가 있는데 settimeout 같은 경우 매크로 테스크큐에 들어가고 promise는 마이크로 테스크큐에 들어간다.  
두가지중에서 마이크로 테스크큐가 더 우선순위를 가진다.  
그래서 settimeout 0초로 되어있어도 더 밑에 나온 프로미스에 우선순위에서 밀려서 프로미스가프로미스가 먼저처리되고 settimeout이 처리된다.
