# Babel

바벨은 크로스 브라우징 이슈를 해결하기 위해 생겨난 툴입니다. 크로스 브라우징이란 브라우저나 플랫폼마다 보여지는 모습이 다른 경우가 많은데, 이러한 차이를 최소화하여 브라우저 및 환경에 영향을 최소한으로 받고 해당 웹 서비스를 사용할 수 있게 최적화를 하는 작업을 말합니다.  
ES6+ 버전의 자바스크립트나 타입스크립트, JSX 등에 대해서도 모든 브라우저에서 동작할 수 있도록 변환하여 호환성을 지켜줍니다. 바벨은 이렇게 기능을 유지한 채로 하위버전의 코드로 변화시키는 트랜스파일러의 역할을 합니다. 그래서 IE나 다른 브라우저에서 동작할 수 있게 만듭니다.

바벨은 파싱과 출력을 담당하고 변환은 플러그인이 담당합니다.
바벨 플러그인은 바벨이 어떤 코드를 어떻게 변환할 지에 대한 규칙을 나타냅니다.
플러그인은 직접 만들어서 커스텀 플러그인을 사용해도 되고, 이미 잘 만들어진 플러그인을 가져다가 써도 됩니다.

npm 패키지로 제공하는 플러그인을 설치하여 es6의 const, let을 var로 바꾸고, 화살표 함수를 일반 함수로 바꾸고 엄격 모드를 적용하여 ES6+를 ES5로 변환하는 바벨 설정 파일은 다음과 같다.

```json
module.exports = {
  plugins: [
    "@babel/plugin-transform-block-scoping",
    "@babel/plugin-transform-arrow-functions",
    "@babel/plugin-transform-strict-mode",
  ]
}
```

바벨 플러그인을 매번 일일이 설정하는건 힘들어서 목적에 따라 세트로 묶어 사용합니다. 이러한 세트를 프리셋이라고 합니다.  
그리고 특정 브라우저 버전이상을 지원해야 할 경우 targets 속성 값으로 지정해주면 됩니다.  
이번엔 폴리필에 대해 이야기해보면 폴리필은 최신 문법을 사용하기 위해 코드가 실행되는 환경에 존재하지 않는 빌트인, 메소드 등을 추가하는 역할을 합니다.  
예를 들어 Promise 객체는 env 프리셋을 가지고 변환하려고 해도 ie에서 인식하지 못합니다. 바벨의 경우 ES6+를 ES5로 변환할 수 있는 것들만 변환을 하는데, 이러한 경우 폴리필을 통해서 이슈를 해결할 수 있습니다.
